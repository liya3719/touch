<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1, maximum-scale=1, user-scalable=no" />
	<meta name="format-detection" content="telephone=no,email=no"/>
	<meta name="full-screen" content="yes">
	<title></title>
	<link rel="stylesheet" href="css/reset.css" type="text/css">
	<style type="text/css" media="screen">
		body,html{height:100%;}
		.wrap{height:100%;}
		.wrap .container{position:relative;height:100%;overflow:hidden;}
		.wrap .container .space{width:100%;transition:.5s cubic-bezier(0.63, -0.01, 0.38, 1);}
		.wrap .container .space .move{width:100%;background:#fff;}
		.wrap .container .space .move:first-child{background:red;}
		.wrap .container .space .move:nth-child(even){background:yellow;}
		.wrap .container .space .move:nth-child(odd){background:green;}
		.wrap .container .space .move:last-child{background:blue;}
		/*input[type="number"]::-webkit-inner-spin-button{
			-webkit-appearance:none;
		}
		input[type="number"]::-webkit-outer-spin-button{
			-webkit-appearance:none;
		}*/
	</style>
</head>
<body>
	<div class="wrap">
		<div class="container">
			<div class="space" id="move-box">
				<div class="move"></div>
				<div class="move"></div>
				<div class="move"></div>
				<div class="move"></div>
				<div class="move"></div>
				<div class="move"></div>
				<div class="move"></div>
				<div class="move"></div>
			</div>
		</div>
	</div>
</body>
<script type="text/javascript">
	var startX = 0,
		startY = 0,
		endX = 0,
		endY = 0,
		moveX = 0,
		moveY = 0,
		//匹配DOM3级的正则
		reg = /\-?[0-9]+\.?[0-9]*/g,
		pageNum = 0;
		cssNum = 0;
	var moveBox = document.getElementById('move-box');
	var childBox = document.getElementById('move-box').getElementsByClassName('move');
	var getLen = document.getElementById('move-box').getElementsByTagName('div').length;
	var oWidth = document.documentElement.clientWidth || document.body.clientWidth;
	var oHeight = document.documentElement.clientHeight || document.body.clientHeight;
	moveBox.style.height = oHeight * getLen+'px';
	for(var i=0,len=childBox.length;i<len;i++){
		childBox[i].style.height = oHeight+'px';
	}
	function getCss(eles){
		var getCssNum = eles.style.transform;
		if(getCssNum !==''){
			cssNum = + getCssNum.match(reg);
		}
	}
	document.addEventListener('touchstart',function(e){
		startX = e.touches[0].clientX;
		startY = e.touches[0].clientY;
		e.preventDefault();
	});
	document.addEventListener('touchmove',function(e){
		endX = e.touches[0].clientX;
		endY = e.touches[0].clientY;
		e.preventDefault();
	});
	document.addEventListener('touchend',function(e){
		e.preventDefault();
		moveX = endX - startX;
		moveY = endY - startY;
		upDown(e);
	});
	function upDown(e){
		//判断手势滑动(上下手势);
		e = e || window.event;
		var targetBox = e.target ? e.target:e.srcElement;
		if(moveY > 0 && moveY > 10){
			pageNum--;
			console.log('动作是向上翻页');
			if(pageNum < 0){
				pageNum = 0;
				return;
			};
			getCss(moveBox);
			//moveY = moveY + cssNum;
			moveBox.style.transform = 'translateY(-'+oHeight*pageNum+'px)';
		}else if(moveY < 0 && moveY < -10){
			pageNum++;
			console.log('动作是向下翻页');
			if(pageNum >= getLen){
				pageNum = getLen-1;	
				return;
			};
			getCss(moveBox);
			//moveY = moveY + cssNum;
			moveBox.style.transform = 'translateY(-'+oHeight*pageNum+'px)';
		}
	}
	function leftRight(e){
		//判断手势滑动(左右滑动);
		e = e || window.event;
		var targetBox = e.target ? e.target:e.srcElement;
		if(moveX > 0 && moveX > 10){
			console.log('动作是向右滑动');
			getCss(targetBox);
			moveX = moveX + cssNum;
			targetBox.style.transform = 'translateX('+moveX+'px)';
		}else if(moveX < 0 && moveX < -10){
			console.log('动作是向左滑动');
			getCss(targetBox);
			moveX = moveX + cssNum;
			targetBox.style.transform = 'translateX('+moveX+'px)';
		}
	}
	function page3D(e){
		e = e || window.event;
		var targetBox = e.target ? e.target:e.srcElement;
		//判断手势滑动(左上左下);
		if((moveX > 0 && moveY >0 ) && (moveX > 10 && moveY > 10)){
			console.log('动作是左下滑动');
		}else if((moveX > 0 && moveY < 0) && (moveX > 10 && moveY < -10)){
			console.log('动作是左上滑动');
		}
		//判断手势滑动(右上右下);
		if((moveX < 0 && moveY > 0 ) && (moveX < -10 && moveY > 10)){
			console.log('动作是右下滑动');
		}else if((moveX < 0 && moveY < 0) && (moveX < -10 && moveY < -10)){
			console.log('动作是右上滑动');
		}
	}
</script>
</html>
